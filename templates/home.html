<!DOCTYPE html>

<html>

<head>
  <link rel="stylesheet" href="../static/css/styles.css">
  <title>home</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
  <div class="topnav">
  <a class="active" href="{{ url_for('home') }}">Home</a>
  <a href="{{ url_for('privacypolicy') }}">Privacy Policy</a>
  <a href="{{ url_for('ack') }}">Acknowledgements</a>
  <a href="{{ url_for('homeJ') }}">日本語</a>
</div>

<div class="cont01">
  <h1>Anime Arc</h1>
  <p>This is a web application that allows you to convert photographs into anime. Here are some changes that were done in the current branch lol.</p>
  <form action="/handleUpload" method="post" enctype="multipart/form-data">
    <span>
      Choose the file: <input type="file" accept="image/*" onchange= "loadFile(event)" name="photo" id="file"/>
    </span><br/><br/>
    <img class="custom" id="output"><br/>

    <input class="button" type="submit" value="Upload" id="uploadButton" disabled/>

  </form>
  <img class="custom" src="{{ user_image }}" id="processedImage">
  <form action="/get-image" method="post"><br/>
    <input class="button" type="submit" value="Download" id="downloadButton" disabled/>
  </form>
</div>
</body>

<script>
var loadFile = function(event) {
  var output = document.getElementById('output');
  output.src = URL.createObjectURL(event.target.files[0]);
  output.onload = function() {
    URL.revokeObjectURL(output.src)
  }
};
</script>
<script>
  $(document).ready(
    function(){
        $('input:file').change(
            function(){
                if ($(this).val()) {
                    $('#uploadButton').attr('disabled',false);
                    $('#downloadButton').attr('disabled',false);
                }
            }
            );
    });
</script>
</html>
